<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YMSH 5th Anniversary</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/start.css">
  <link rel="stylesheet" href="css/dialogue.css">
  <style>
    .snowflake {
      position: absolute;
      top: -10px;
      color: white;
      font-size: 10px;
      opacity: 0;
      pointer-events: none;
    }
  </style>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

</head>

<body>
  <!-- <div class="container"> -->

  <body>
    <div id="game">
      <!-- 背景層 -->
      <div class="background-layer">
        <img id="bg" src="assets/images/gate.png" alt="背景" />
      </div>
      <!-- 人物層 -->
      <div class="character-layer">
        <!-- <img id="char" src="" alt="角色" /> -->
      </div>

      <!-- 對話層 -->
      <div class="dialogue-box">
        <div class="dialogue-header">
          <span id="name" class="speaker"></span>
        </div>
        <div id="text" class="dialogue-text"></div>

        <!-- 輸入階段 -->
        <div id="name-input-area" class="input-area">
          <input id="playerName" type="text" placeholder="請輸入你的名字" />
          <button id="submitName">確定</button>
        </div>

        <div class="control-area">
          <button id="nextBtn" class="next-btn hidden">▶</button>
        </div>
      </div>
    </div>
    <!-- <script src="js/main.js"></script> -->
    <script src="js/gate.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
      crossorigin="anonymous"></script>
    <script>
    window.addEventListener('DOMContentLoaded', () => {
        document.body.classList.add('fade-in');
      });</script>
    <script>
      const NUM = 30;
      for (let i = 0; i < NUM; i++) {
        const flake = document.createElement("div");
        flake.classList.add("snowflake");
        flake.textContent = "●";
        document.body.appendChild(flake);

        const size = Math.random() * 1 + 5;
        const startY = Math.random() * window.innerHeight;   // 從畫面上方不同高度進場
        const drift = Math.random() * 700 + 300;             // 控制整體風向
        const duration = Math.random() * 5 + 6;
        const delay = Math.random() * 5;

        gsap.set(flake, {
          fontSize: size,
          x: -40,                      // 從畫面左外側開始
          y: startY,
          opacity: Math.random() * 0.6 + 0.1
        });

        // 主動畫：水平橫掃
        gsap.to(flake, {
          x: window.innerWidth + 40,   // 掃到畫面右外
          y: startY + drift,           // 帶一點斜率，整體略往下或上
          rotation: Math.random() * 180 - 90,
          duration,
          delay,
          repeat: -1,
          ease: "none"
        });

        // 疊加上下輕微晃動（模擬風浪）
        gsap.to(flake, {
          y: `+=${Math.random() * 200 - 100}`,
          duration: Math.random() * 3 + 2,
          yoyo: true,
          repeat: -1,
          ease: "sine.inOut"
        });
      }

    </script>
  </body>

</html>