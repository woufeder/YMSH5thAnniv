<!DOCTYPE html>
<html lang="zh-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>YMSH 5th Anniversary</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">
  <link rel="stylesheet" href="css/main.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

</head>

<body>
  <div class="bg"></div>



  <div id="index" class="scene-container d-flex justify-content-center align-items-center">

    <!-- LOGO層 -->
    <div class="LOGO-layer d-flex flex-column justify-content-center align-items-center">
      <img id="LOGO" src="assets/images/title.png" alt="LOGO" />
      <h5>五周年紀念網站</h5>
    </div>

  </div>
  <!-- <script src="js/main.js"></script> -->
  <script src="js/utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
    crossorigin="anonymous"></script>
  <script>
    gsap.to(".bg", {
      duration: 8,
      repeat: -1,
      ease: "none",
      onUpdate() {
        const t = Math.sin(this.progress() * Math.PI * 2) * 0.15 + 0.9; // 在 1.0~1.3 間平滑波動
        const blur = Math.sin(this.progress() * Math.PI * 2) * 1 + 2;    // 在 1~3px 間平滑波動
        gsap.set(".bg", { filter: `blur(${blur}px) brightness(${t})` });
      }
    });


    const NUM = 30;
    for (let i = 0; i < NUM; i++) {
      const flake = document.createElement("div");
      flake.classList.add("snowflake");
      flake.textContent = "●";
      document.body.appendChild(flake);

      const size = Math.random() * 1 + 5;
      const startY = Math.random() * window.innerHeight;   // 從畫面上方不同高度進場
      const drift = Math.random() * 700 + 300;             // 控制整體風向
      const duration = Math.random() * 5 + 6;
      const delay = Math.random() * 5;

      gsap.set(flake, {
        fontSize: size,
        x: -40,                      // 從畫面左外側開始
        y: startY,
        opacity: Math.random() * 0.6 + 0.1
      });

      // 主動畫：水平橫掃
      gsap.to(flake, {
        x: window.innerWidth + 40,   // 掃到畫面右外
        y: startY + drift,           // 帶一點斜率，整體略往下或上
        rotation: Math.random() * 180 - 90,
        duration,
        delay,
        repeat: -1,
        ease: "none"
      });

      // 疊加上下輕微晃動（模擬風浪）
      gsap.to(flake, {
        y: `+=${Math.random() * 200 - 100}`,
        duration: Math.random() * 3 + 2,
        yoyo: true,
        repeat: -1,
        ease: "sine.inOut"
      });
    }

  </script>
</body>

</html>